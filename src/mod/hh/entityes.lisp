;; [[file:hh.org::*Сущности и автоматы][entity_and_automates]]
(in-package #:moto)
(define-automat vacancy "Автомат вакансии"
  ((id serial)
   (src-id integer)
   (archive boolean)
   (name varchar)
   (currency (or db-null varchar))
   (base-salary (or db-null integer))
   (salary (or db-null integer))
   (salary-text (or db-null varchar))
   (salary-max (or db-null integer))
   (salary-min (or db-null integer))
   (emp-id (or db-null integer))
   (emp-name varchar)
   (city varchar)
   (metro varchar)
   (experience varchar)
   (date varchar)
   (respond varchar)
   (descr varchar)
   (notes (or db-null varchar))
   (response (or db-null varchar)))
  (:offer :interview :invite :reject :beenviewed :responded :interesting :uninteresting :unsort)
  ((:unsort :uninteresting :uns-uni)
   (:unsort :interesting :uns-int)
   (:unsort :responded :uns-res)
   (:uninteresting :interesting :uni-int)
   (:uninteresting :responded :uni-res)
   (:uninteresting :uninteresting :uni-uni)
   (:interesting :uninteresting :int-uni)
   (:interesting :responded :int-res)
   (:interesting :interesting :int-int)
   (:responded :beenviewed :res-bee)
   (:responded :uninteresting :res-uni)
   (:responded :reject :res-rej)
   (:responded :invite :res-inv)
   (:responded :responded :res-res)
   (:beenviewed :uninteresting :bee-uni)
   (:beenviewed :reject :bee-rej)
   (:beenviewed :invite :bee-inv)
   (:beenviewed :beenviewed :bee-bee)
   (:reject :responded :rej-res)
   (:reject :uninteresting :rej-uni)
   (:reject :reject :rej-rej)
   (:invite :invite :inv-inv)
   (:invite :uninteresting :inv-uni)
   (:invite :interview :inv-int)
   (:interview :uninteresting :int-uni)
   (:interview :interview :int-int)
   (:interview :offer :int-off)))

(define-automat resume "Автомат резюме"
  ((id serial)
   (src-id (or db-null varchar))
   (res-id (or db-null varchar))
   (title varchar))
  (:offer :interview :invite :reject :beenviewed :responded :interesting :uninteresting :unsort)
  ((:unsort :uninteresting :uns-uni)
   (:unsort :interesting :uns-int)
   (:unsort :responded :uns-res)
   (:uninteresting :interesting :uni-int)
   (:uninteresting :responded :uni-res)
   (:uninteresting :uninteresting :uni-uni)
   (:interesting :uninteresting :int-uni)
   (:interesting :responded :int-res)
   (:interesting :interesting :int-int)
   (:responded :beenviewed :res-bee)
   (:responded :uninteresting :res-uni)
   (:responded :reject :res-rej)
   (:responded :invite :res-inv)
   (:responded :responded :res-res)
   (:beenviewed :uninteresting :bee-uni)
   (:beenviewed :reject :bee-rej)
   (:beenviewed :invite :bee-inv)
   (:beenviewed :beenviewed :bee-bee)
   (:reject :responded :rej-res)
   (:reject :uninteresting :rej-uni)
   (:reject :reject :rej-rej)
   (:invite :invite :inv-inv)
   (:invite :uninteresting :inv-uni)
   (:invite :interview :inv-int)
   (:interview :uninteresting :int-uni)
   (:interview :interview :int-int)
   (:interview :offer :int-off)))
;; entity_and_automates ends here
